(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,s)=>{},98547,(e,t,s)=>{var r=e.i(47167);e.r(16015);var a=e.r(71645),l=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(a),o=void 0!==r.default&&r.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,a=t.optimizeForSpeed,l=void 0===a?o:a;c(n(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",c("boolean"==typeof l,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var i="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=i?i.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(c(n(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];c(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&c(n(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return s?a.insertBefore(r,s):a.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},u={};function m(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return u[r]||(u[r]="jsx-"+d(e+"-"+s)),u[r]}function h(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return u[s]||(u[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[s]}var x=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,a=t.optimizeForSpeed,l=void 0!==a&&a;this._sheet=r||new i({name:"styled-jsx",optimizeForSpeed:l}),this._sheet.inject(),r&&"boolean"==typeof l&&(this._sheet.setOptimizeForSpeed(l),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,a=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var l=a.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=l,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return l.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var a=m(r,s);return{styleId:a,rules:Array.isArray(t)?t.map(function(e){return h(a,e)}):[h(a,t)]}}return{styleId:m(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=a.createContext(null);function p(){return new x}function g(){return a.useContext(f)}f.displayName="StyleSheetContext";var y=l.default.useInsertionEffect||l.default.useLayoutEffect,b="undefined"!=typeof window?p():void 0;function w(e){var t=b||g();return t&&("undefined"==typeof window?t.add(e):y(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}w.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,r=a.useContext(f),o=a.useState(function(){return r||t||p()})[0];return l.default.createElement(f.Provider,{value:o},s)},s.createStyleRegistry=p,s.style=w,s.useStyleRegistry=g},37902,(e,t,s)=>{t.exports=e.r(98547).style},52683,e=>{"use strict";e.s(["default",()=>P],52683);var t=e.i(43476),s=e.i(71645);function r(e){let{gameUrl:r,onClose:a}=e,[l,o]=(0,s.useState)(!0),[n,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),(0,t.jsxs)("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",children:[(0,t.jsx)("button",{onClick:a,className:"absolute top-5 right-5 z-50 bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Close Game"}),l&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-40",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-8 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-indigo-500 rounded-full animate-spin mb-4"}),(0,t.jsx)("p",{className:"text-gray-700 font-medium",children:"Loading game..."})]})}),n&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-40",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-8 text-center max-w-md mx-4",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"‚ùå"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Game Failed to Load"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"There was an error loading the game. Please try again."}),(0,t.jsx)("button",{onClick:a,className:"bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Close"})]})}),(0,t.jsx)("iframe",{src:r,className:"w-full h-full border-none",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-modals",allow:"fullscreen; autoplay; encrypted-media; payment; microphone; camera",allowFullScreen:!0,loading:"lazy",onLoad:()=>{o(!1),i(!1)},onError:()=>{o(!1),i(!0)},style:{display:n?"none":"block"}}),(0,t.jsx)("div",{className:"absolute bottom-5 left-1/2 transform -translate-x-1/2 text-white text-sm opacity-75 text-center",children:(0,t.jsx)("p",{children:'Press ESC or click "Close Game" to exit'})})]})}let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:r,strokeWidth:i?24*Number(n)/Number(a):n,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,s.forwardRef)((r,o)=>{let{className:i,...c}=r;return(0,s.createElement)(n,{ref:o,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return r.displayName=a(e),r},c=i("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),d=i("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),u=i("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),m=i("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),h=i("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x=i("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),f=i("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),p=i("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);function g(e){let{onLogin:r,onShowRegister:a}=e,[l,o]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),h=async e=>{e.preventDefault(),d(!0),m("");try{let e=await fetch("http://localhost:3002/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:n})}),t=await e.json();e.ok?r(t.user,t.token):m(t.error||"Login failed")}catch(e){m("Network error. Please try again.")}finally{d(!1)}};return(0,t.jsxs)("div",{className:"bg-gradient-to-t from-gray-900 to-black rounded-2xl shadow-2xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("img",{src:"/pg-slot-logo.svg",alt:"PG Slot",className:"h-16 w-auto mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-yellow-300 mb-2",children:"Welcome Back"}),(0,t.jsx)("p",{className:"text-yellow-200/80",children:"Sign in to your gaming account"})]}),u&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-900/50 border border-red-500/50 text-red-300 rounded-lg text-center backdrop-blur-sm",children:u}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Username"}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-800/50 border-2 border-yellow-600/30 rounded-lg focus:border-yellow-400 focus:outline-none transition-all text-white placeholder-gray-400 backdrop-blur-sm",placeholder:"Enter your username"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Password"}),(0,t.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-800/50 border-2 border-yellow-600/30 rounded-lg focus:border-yellow-400 focus:outline-none transition-all text-white placeholder-gray-400 backdrop-blur-sm",placeholder:"Enter your password"})]}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-yellow-500 text-black py-3 px-4 rounded-xl cursor-pointer font-bold hover:from-yellow-400 hover:to-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 shadow-lg hover:shadow-yellow-400/25",children:c?"Logging in...":"Login"})]}),(0,t.jsxs)("div",{className:"mt-6 text-center",children:[(0,t.jsx)("span",{className:"text-yellow-200/80",children:"Don't have an account? "}),(0,t.jsx)("button",{onClick:a,className:"text-yellow-400 hover:text-yellow-300 font-medium underline decoration-yellow-400/50 hover:decoration-yellow-300",children:"Register here"})]})]})}function y(e){let{onLogin:r,onShowLogin:a}=e,[l,o]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1),[f,p]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[b,w]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1),[N,k]=(0,s.useState)(Date.now());(0,s.useEffect)(()=>{b||(S(),w(!0))},[b]);let S=()=>{let e=Date.now().toString(36)+Math.random().toString(36).substr(2),t=Date.now();console.log("Generated session ID:",e),m(e),k(t),v(!0)},_=()=>{v(!1),d(""),S()},C=async e=>{if(e.preventDefault(),x(!0),p(""),y(""),!l.trim()||!n.trim()||!c.trim()||!u){p("Please fill in all fields and complete the captcha."),x(!1);return}try{let e=await fetch("http://localhost:3002/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:l,username:n,captcha:c,session_id:u})}),t=await e.json();e.ok?(y("üéâ Registration successful! You are now logged in.\n\n"+"üìù Your temporary password is: ".concat(t.temporaryPassword,"\n")+"‚ö†Ô∏è Please save this password - you can change it later in your profile."),setTimeout(()=>{r(t.user,t.token)},3e3)):(p(t.error||"Registration failed"),_())}catch(e){p("Network error. Please try again."),_()}finally{x(!1)}};return(0,t.jsxs)("div",{className:"bg-gradient-to-t from-gray-900 to-black rounded-2xl shadow-2xl p-4 lg:p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("img",{src:"/pg-slot-logo.webp",alt:"PG Slot",className:"h-16 w-auto mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-yellow-300 mb-2",children:"Create Account"}),(0,t.jsx)("p",{className:"text-yellow-200/80",children:"Join the gaming platform"})]}),f&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-900/50 border border-red-500/50 text-red-300 rounded-lg text-center whitespace-pre-line backdrop-blur-sm",children:f}),g&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-green-900/50 border border-green-500/50 text-green-300 rounded-lg text-center whitespace-pre-line backdrop-blur-sm",children:g}),(0,t.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),required:!0,minLength:2,maxLength:50,className:"w-full px-4 py-3 bg-gray-800/50 border-2 border-yellow-600/30 rounded-lg focus:border-yellow-400 focus:outline-none transition-all text-white placeholder-gray-400 backdrop-blur-sm",placeholder:"Enter your full name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Username (3-20 characters)"}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),required:!0,minLength:3,maxLength:20,className:"w-full px-4 py-3 bg-gray-800/50 border-2 border-yellow-600/30 rounded-lg focus:border-yellow-400 focus:outline-none transition-all text-white placeholder-gray-400 backdrop-blur-sm",placeholder:"Choose a username"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Verification Code"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),required:!0,maxLength:4,className:"flex-1 px-4 py-3 bg-gray-800/50 border-2 border-yellow-600/30 rounded-lg focus:border-yellow-400 focus:outline-none transition-all text-white placeholder-gray-400 backdrop-blur-sm",placeholder:"Enter code"}),u&&j?(0,t.jsx)("img",{src:"http://localhost:3002/api/captcha/".concat(u,"?t=").concat(N),alt:"Captcha",width:120,height:40,className:"border-2 border-yellow-600/30 rounded cursor-pointer hover:opacity-80 transition-opacity bg-white",onClick:_,title:"Click to refresh"},"".concat(u,"-").concat(N)):(0,t.jsx)("div",{className:"w-[120px] h-[40px] border-2 border-yellow-600/30 rounded bg-gray-700 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-yellow-400 text-xs",children:"Loading..."})})]}),(0,t.jsx)("p",{className:"text-xs text-yellow-300/70 mt-1",children:"Click the image to refresh if unclear"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Session ID: ",u||"Not generated"]})]}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"w-full primary-gradient-to-b text-black py-3 px-4 rounded-xl cursor-pointer font-bold hover:from-yellow-400 hover:to-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 shadow-lg hover:shadow-yellow-400/25",children:h?"Creating Account...":"Register & Login"})]}),(0,t.jsxs)("div",{className:"mt-6 text-center",children:[(0,t.jsx)("span",{className:"text-yellow-200/80",children:"Already have an account? "}),(0,t.jsx)("button",{onClick:a,className:"text-yellow-400 hover:text-yellow-300 font-medium underline decoration-yellow-400/50 hover:decoration-yellow-300",children:"Login here"})]})]})}function b(e){let{user:r,balance:a,canWithdraw:l,withdrawals:o,onWithdrawalSubmit:n}=e,[i,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[x,f]=(0,s.useState)(""),[p,g]=(0,s.useState)(!1),y=async e=>{if(e.preventDefault(),!l){let e=(1e3-a).toFixed(2);alert("Withdrawal not available yet!\n\nYou need $".concat(e," more to reach the $1000 withdrawal threshold.\n\nCurrent balance: $").concat(a.toFixed(2),"\nRequired balance: $1000.00"));return}return r&&"approved"===r.kyc_status?i.trim()&&d.trim()&&m.trim()&&x.trim()?confirm("Confirm Withdrawal Request\n\nAmount: $50.00\nBank: ".concat(i,"\nAccount: ").concat(d,"\nHolder: ").concat(m,"\nBranch: ").concat(x,"\n\nProceed with withdrawal request?"))?void(g(!0),await n({bank_name:i,account_number:d,account_holder:m,bank_branch:x})&&(c(""),u(""),h(""),f("")),g(!1)):void 0:void alert("Please fill in all bank details:\n\n‚Ä¢ Bank Name\n‚Ä¢ Account Number\n‚Ä¢ Account Holder Name\n‚Ä¢ Bank Branch"):void alert("KYC Verification Required!\n\nYou must complete KYC verification before withdrawing.\n\nPlease go to the KYC tab to upload your documents.")},b=(()=>{if(l&&(null==r?void 0:r.kyc_status)==="approved")return{message:"Ready to withdraw! You can request your $50 withdrawal.",type:"success"};{if(l&&(null==r?void 0:r.kyc_status)!=="approved")return{message:"Balance reached $1000! Complete KYC verification to withdraw.",type:"warning"};let e=(1e3-a).toFixed(2);return{message:"Keep playing! You need $".concat(e," more to reach withdrawal threshold."),type:"info"}}})();return(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-yellow-400 mb-6 flex items-center",children:"Wallet Management"}),(0,t.jsxs)("div",{className:"p-4 rounded-lg mb-6 border ".concat("success"===b.type?"bg-green-900/20 border-green-600/30 text-green-300":"warning"===b.type?"bg-yellow-900/20 border-yellow-600/30 text-yellow-300":"bg-gray-800/50 border-gray-600/30 text-gray-300"),children:[(0,t.jsx)("strong",{className:"text-yellow-400",children:"Withdrawal Status:"})," ",b.message]}),(0,t.jsxs)("div",{className:"bg-gray-900/50 border border-yellow-600/20 rounded-xl p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-yellow-400 mb-4 flex items-center",children:"Withdrawal Request"}),(0,t.jsx)("p",{className:"text-gray-300 mb-6",children:"Complete the form below to request your $50 withdrawal:"}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-2",children:"Bank Name"}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors placeholder-gray-400",placeholder:"Enter your bank name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-2",children:"Account Number"}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors placeholder-gray-400",placeholder:"Enter your account number"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-2",children:"Account Holder Name"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors placeholder-gray-400",placeholder:"Enter account holder name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-2",children:"Bank Branch"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>f(e.target.value),className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors placeholder-gray-400",placeholder:"Enter bank branch"})]}),(0,t.jsx)("button",{type:"submit",disabled:p||!l||(null==r?void 0:r.kyc_status)!=="approved",className:"w-full py-3 px-4 rounded-lg font-medium transition-all ".concat(l&&(null==r?void 0:r.kyc_status)==="approved"&&!p?"bg-gradient-to-r from-yellow-600 to-yellow-500 text-black hover:from-yellow-500 hover:to-yellow-400 shadow-lg":"bg-gray-700 text-gray-400 cursor-not-allowed border border-gray-600"),children:p?"Processing...":l&&(null==r?void 0:r.kyc_status)==="approved"?"Request Withdrawal ($50)":l?"Complete KYC First":"Need $".concat((1e3-a).toFixed(2)," More")})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/50 border border-yellow-600/20 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-yellow-400 mb-4 flex items-center",children:"Withdrawal History"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,t.jsx)("th",{className:"text-left py-3 px-2 font-semibold text-yellow-400",children:"Date"}),(0,t.jsx)("th",{className:"text-left py-3 px-2 font-semibold text-yellow-400",children:"Amount"}),(0,t.jsx)("th",{className:"text-left py-3 px-2 font-semibold text-yellow-400",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-3 px-2 font-semibold text-yellow-400",children:"Notes"})]})}),(0,t.jsx)("tbody",{children:0===o.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"text-center py-8 text-gray-400",children:"No withdrawal history yet"})}):o.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-700/50",children:[(0,t.jsx)("td",{className:"py-3 px-2 text-gray-300",children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsxs)("td",{className:"py-3 px-2 text-gray-300",children:["$",e.amount.toFixed(2)]}),(0,t.jsx)("td",{className:"py-3 px-2",children:(0,t.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat("approved"===e.status?"bg-green-900/30 text-green-300 border border-green-600/30":"rejected"===e.status?"bg-red-900/30 text-red-300 border border-red-600/30":"submitted"===e.status?"bg-blue-900/30 text-blue-300 border border-blue-600/30":"bg-yellow-900/30 text-yellow-300 border border-yellow-600/30"),children:e.status.toUpperCase()})}),(0,t.jsx)("td",{className:"py-3 px-2 text-gray-300",children:e.admin_notes||"-"})]},e.id))})]})})]})]})}function w(e){let{user:r,onKYCUpload:a}=e,[l,o]=(0,s.useState)(null),[n,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),u=async e=>{if(e.preventDefault(),!l||!n)return void alert("Please upload both ID documents:\n\n‚Ä¢ ID Front Side\n‚Ä¢ ID Back Side");let t=["image/jpeg","image/jpg","image/png","application/pdf"];if(!t.includes(l.type)||!t.includes(n.type))return void alert("Invalid file type!\n\nPlease upload files in JPEG, PNG, or PDF format only.");if(l.size>5242880||n.size>5242880)return void alert("File too large!\n\nPlease ensure each file is under 5MB.");d(!0);let s=new FormData;if(s.append("id_front",l),s.append("id_back",n),await a(s)){o(null),i(null);let e=document.getElementById("idFront"),t=document.getElementById("idBack");e&&(e.value=""),t&&(t.value="")}d(!1)},m=(()=>{if(!r)return{status:"pending",message:"Loading...",className:"bg-gray-800/50 border-gray-600/30 text-gray-300"};switch(r.kyc_status){case"approved":return{status:"Approved",message:"Your identity has been verified successfully!",className:"bg-green-900/20 border-green-600/30 text-green-300"};case"rejected":return{status:"Rejected",message:"Your documents were rejected. Please upload new documents.",className:"bg-red-900/20 border-red-600/30 text-red-300"};case"submitted":return{status:"Under Review",message:"Your documents are being reviewed. Please wait for approval.",className:"bg-blue-900/20 border-blue-600/30 text-blue-300"};default:return{status:"Pending",message:"Please upload your identity documents for verification.",className:"bg-gray-800/50 border-gray-600/30 text-gray-300"}}})(),h=(null==r?void 0:r.kyc_status)==="pending"||(null==r?void 0:r.kyc_status)==="rejected";return(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-yellow-400 mb-6 flex items-center",children:"KYC Verification"}),(0,t.jsxs)("div",{className:"p-4 rounded-lg mb-6 border ".concat(m.className),children:[(0,t.jsx)("strong",{className:"text-yellow-400",children:"KYC Status:"})," ",m.status,(0,t.jsx)("p",{className:"mt-1",children:m.message})]}),h&&(0,t.jsxs)("div",{className:"bg-gray-900/50 border border-yellow-600/20 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-yellow-400 mb-4 flex items-center",children:"Upload Identity Documents"}),(0,t.jsx)("p",{className:"text-gray-300 mb-6",children:"Please upload your ID document (both sides) for verification:"}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-2",children:"ID Front Side (JPEG, PNG, PDF)"}),(0,t.jsx)("input",{type:"file",id:"idFront",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>{var t;return o((null==(t=e.target.files)?void 0:t[0])||null)},required:!0,className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-yellow-600/20 file:text-yellow-300 hover:file:bg-yellow-600/30"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Clear photo of the front of your government-issued ID"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-2",children:"ID Back Side (JPEG, PNG, PDF)"}),(0,t.jsx)("input",{type:"file",id:"idBack",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>{var t;return i((null==(t=e.target.files)?void 0:t[0])||null)},required:!0,className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-yellow-600/20 file:text-yellow-300 hover:file:bg-yellow-600/30"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Clear photo of the back of your government-issued ID"})]}),(0,t.jsx)("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-blue-300 text-sm",children:[(0,t.jsx)("strong",{className:"text-yellow-400",children:"Note:"})," Withdrawal destination will be verified separately by our back office team during the withdrawal process."]})}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 rounded-lg font-medium transition-all ".concat(c?"bg-gray-700 text-gray-400 cursor-not-allowed border border-gray-600":"bg-gradient-to-r from-yellow-600 to-yellow-500 text-black hover:from-yellow-500 hover:to-yellow-400 shadow-lg"),children:c?"Uploading...":"Submit KYC Documents"})]})]}),!h&&(null==r?void 0:r.kyc_status)==="approved"&&(0,t.jsxs)("div",{className:"bg-green-900/20 border border-green-600/30 rounded-xl p-6 text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-green-300 mb-2",children:"Verification Complete!"}),(0,t.jsx)("p",{className:"text-green-300",children:"Your identity has been successfully verified. You can now make withdrawals once you reach the required balance."})]}),!h&&(null==r?void 0:r.kyc_status)==="submitted"&&(0,t.jsxs)("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-xl p-6 text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-blue-300 mb-2",children:"Under Review"}),(0,t.jsx)("p",{className:"text-blue-300",children:"Your documents have been submitted and are currently being reviewed. We'll notify you once the verification is complete."})]})]})}function j(e){let{transactions:s}=e;return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-yellow-400 mb-6 flex items-center",children:"Transaction History"}),(0,t.jsxs)("div",{className:"bg-gray-900/50 border border-yellow-600/20 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b-2 border-gray-600",children:[(0,t.jsx)("th",{className:"text-left py-4 px-2 font-semibold text-yellow-400",children:"Date"}),(0,t.jsx)("th",{className:"text-left py-4 px-2 font-semibold text-yellow-400",children:"Type"}),(0,t.jsx)("th",{className:"text-left py-4 px-2 font-semibold text-yellow-400",children:"Amount"}),(0,t.jsx)("th",{className:"text-left py-4 px-2 font-semibold text-yellow-400",children:"Balance After"}),(0,t.jsx)("th",{className:"text-left py-4 px-2 font-semibold text-yellow-400",children:"Description"})]})}),(0,t.jsx)("tbody",{children:0===s.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:5,className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:"No transactions yet"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Start playing games to see your transaction history here"})]})}):s.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-700/50 hover:bg-gray-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-2 text-gray-300",children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,t.jsx)("td",{className:"py-4 px-2",children:(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium uppercase ".concat((e=>{switch(e.toLowerCase()){case"win":case"deposit":return"bg-green-900/30 text-green-300 border border-green-600/30";case"loss":case"bet":return"bg-red-900/30 text-red-300 border border-red-600/30";case"bonus":case"reward":return"bg-blue-900/30 text-blue-300 border border-blue-600/30";default:return"bg-gray-800/50 text-gray-300 border border-gray-600/30"}})(e.transaction_type)),children:e.transaction_type})}),(0,t.jsx)("td",{className:"py-4 px-2 font-semibold ".concat(e.amount>=0?"text-green-400":"text-red-400"),children:(e=>{let t=e>=0?"+":"";return"".concat(t,"$").concat(e.toFixed(2))})(e.amount)}),(0,t.jsxs)("td",{className:"py-4 px-2 font-medium text-gray-300",children:["$",e.balance_after.toFixed(2)]}),(0,t.jsx)("td",{className:"py-4 px-2 text-gray-300",children:e.description||"-"})]},e.id))})]})}),s.length>0&&(0,t.jsxs)("div",{className:"mt-6 p-4 bg-gray-800/50 rounded-lg border border-gray-600/30",children:[(0,t.jsx)("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Total Transactions:"}),(0,t.jsx)("span",{className:"ml-2 font-semibold text-white",children:s.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Total Wins:"}),(0,t.jsxs)("span",{className:"ml-2 font-semibold text-green-400",children:["$",s.filter(e=>e.amount>0).reduce((e,t)=>e+t.amount,0).toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Total Losses:"}),(0,t.jsxs)("span",{className:"ml-2 font-semibold text-red-400",children:["$",Math.abs(s.filter(e=>e.amount<0).reduce((e,t)=>e+t.amount,0)).toFixed(2)]})]})]})]})]})]})}function v(e){let{user:r,balance:a,canWithdraw:l,onLogout:o,onRefreshBalance:n,isRefreshing:i,onLogin:v,withdrawals:N,onWithdrawalSubmit:k,transactions:S,onKYCUpload:_}=e,[C,R]=(0,s.useState)(!1),[F,P]=(0,s.useState)(!1),[z,E]=(0,s.useState)(!1),[T,A]=(0,s.useState)(!1),[L,I]=(0,s.useState)(!1),[$,B]=(0,s.useState)(!1),[D,Y]=(0,s.useState)(!1),W=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=e=>{W.current&&!W.current.contains(e.target)&&P(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.jsx)("div",{className:"sticky top-0 w-full bg-black z-[99] px-2 lg:px-8 py-3 lg:py-1",children:(0,t.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,t.jsx)("img",{src:"pg-slot-logo.webp",alt:"logo",className:"lg:h-auto h-[40px] w-auto lg:w-[100px]"}),r&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-8 w-max w-1/2",children:[(0,t.jsx)("div",{className:"lg:flex hidden items-center space-x-3",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"gradient-gold font-bold text-xl tracking-wide",children:["$",a.toFixed(2)]}),(0,t.jsx)("button",{onClick:n,disabled:i,className:"p-2 rounded-full transition-all duration-300 ".concat(i?"animate-spin text-gray-500":"hover:bg-gray-700/50 text-white hover:text-gray-200"),title:"Refresh balance",children:(0,t.jsx)(u,{className:"w-4 h-4"})})]})}),(0,t.jsxs)("div",{className:"relative",ref:W,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-white cursor-pointer hover:bg-gray-800/50 rounded-lg px-2 py-1 transition-colors",onClick:()=>P(!F),children:[(0,t.jsx)("div",{className:"bg-yellow-400 rounded-full p-1",children:(0,t.jsx)(c,{className:"w-4 h-4 text-yellow-900"})}),(0,t.jsx)(m,{className:"lg:hidden block h-4 w-4 transition-transform duration-200 ".concat(F?"rotate-180":"")}),(0,t.jsxs)("span",{className:"lg:flex hidden text-lg font-medium gap-1",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Hi,"}),(0,t.jsx)("span",{className:"font-semibold",children:" "+(null==r?void 0:r.username)})]}),(0,t.jsx)(m,{className:"lg:block hidden h-5 w-5 cursor-pointer transition-transform duration-200 ".concat(F?"rotate-180":"")})]}),F&&(0,t.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-gray-900 border border-gray-700 rounded-lg shadow-xl z-50",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-700",children:[(0,t.jsx)("div",{className:"text-yellow-400 font-semibold",children:(null==r?void 0:r.username)||"demo"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-gray-400 text-sm",children:["Balance:",(0,t.jsxs)("span",{className:"text-md gradient-gold font-semibold",children:[" ","$",a.toFixed(2)]})]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},disabled:i,className:"p-1 rounded-full transition-all duration-300 ".concat(i?"animate-spin text-gray-500":"hover:bg-gray-700/50 text-gray-400 hover:text-yellow-400"),title:"Refresh balance",children:(0,t.jsx)(u,{className:"w-3 h-3"})})]})]}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("button",{onClick:()=>{I(!0),P(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-left text-yellow-400 hover:bg-yellow-900/20 rounded-lg transition-colors mb-2",children:[(0,t.jsx)(x,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Wallet"})]}),(0,t.jsxs)("button",{onClick:()=>{B(!0),P(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-left text-blue-400 hover:bg-blue-900/20 rounded-lg transition-colors mb-2",children:[(0,t.jsx)(f,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"KYC Verification"})]}),(0,t.jsxs)("button",{onClick:()=>{Y(!0),P(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-left text-green-400 hover:bg-green-900/20 rounded-lg transition-colors mb-2",children:[(0,t.jsx)(p,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Transaction History"})]}),(0,t.jsxs)("button",{onClick:()=>{o(),P(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-left text-red-400 hover:bg-red-900/20 rounded-lg transition-colors",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Logout"})]})]})]})]})]}),!r&&(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("button",{onClick:()=>E(!0),className:"px-4 py-2 text-white border border-yellow-400 rounded-lg hover:bg-yellow-400 hover:text-black transition-all duration-300 font-medium",children:"Login"}),(0,t.jsx)("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black rounded-lg hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 font-medium",children:"Register"})]}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative p-0 max-w-lg w-full max-h-[90vh] overflow-auto",children:[(0,t.jsx)("button",{onClick:()=>E(!1),className:"absolute top-0 right-0 text-gray-500 hover:text-gray-700 z-10 cursor-pointer rounded-full bg-white p-1",children:(0,t.jsx)(h,{className:"w-5 h-5"})}),(0,t.jsx)(g,{onLogin:(e,t)=>{v&&v(e,t),E(!1)},onShowRegister:()=>{E(!1),A(!0)}})]})}),T&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative  max-w-full lg:max-w-lg w-full max-h-screen lg:max-h-[90vh] overflow-auto",children:[(0,t.jsx)("button",{onClick:()=>A(!1),className:"absolute top-0 right-0 text-gray-500 hover:text-gray-700 z-10 cursor-pointer rounded-full bg-white p-1",children:(0,t.jsx)(h,{className:"w-5 h-5"})}),(0,t.jsx)(y,{onLogin:(e,t)=>{v&&v(e,t),A(!1)},onShowLogin:()=>{A(!1),E(!0)}})]})}),L&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative bg-black w-full overflow-y-auto max-h-[99vh]",children:[(0,t.jsx)("button",{onClick:()=>I(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 z-10 cursor-pointer rounded-full bg-gray-100 hover:bg-gray-200 p-2 transition-colors",children:(0,t.jsx)(h,{className:"w-6 h-6"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(b,{user:r,balance:a,canWithdraw:l,withdrawals:N,onWithdrawalSubmit:k})})]})}),$&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative bg-black w-full overflow-y-auto flex items-center justify-center h-[99vh]",children:[(0,t.jsx)("button",{onClick:()=>B(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 z-10 cursor-pointer rounded-full bg-gray-100 hover:bg-gray-200 p-2 transition-colors",children:(0,t.jsx)(h,{className:"w-6 h-6"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(w,{user:r,onKYCUpload:_})})]})}),D&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative bg-black w-full overflow-y-auto max-h-[99vh]",children:[(0,t.jsx)("button",{onClick:()=>Y(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 z-10 cursor-pointer rounded-full bg-gray-100 hover:bg-gray-200 p-2 transition-colors",children:(0,t.jsx)(h,{className:"w-6 h-6"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(j,{transactions:S})})]})})]})})}var N=e.i(37902);let k=i("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function S(e){let{balance:s}=e,r=Math.min(s/1e3*100,100),a=e=>{switch(e){case"start":return"bg-gradient-to-br from-yellow-600 to-yellow-700 text-white";case"current":return s>=1e3?"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white":s>0?"bg-gradient-to-br from-yellow-400 to-yellow-500 text-white animate-pulse":"bg-gray-700 text-gray-400";case"goal":return s>=1e3?"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white":"bg-gray-700 text-gray-400";default:return"bg-gray-700 text-gray-400"}};return(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 border border-gray-700 rounded-xl p-6 lg:p-8 mb-10",children:[(0,t.jsx)("h3",{className:"jsx-a6e5f80828001ff1 text-2xl font-bold mb-6 gradient-gold",children:"Your Journey to Withdrawal"}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 mb-6",children:[(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 hidden md:flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 "+"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mb-2 ".concat(a("start")),children:"S"}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 text-center text-sm",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 font-medium text-yellow-500",children:"Start"}),(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 text-xs text-yellow-400",children:"$50"})]})]}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 "+"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mb-2 ".concat(a("current")),children:"P"}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 text-center text-sm",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 font-medium text-yellow-500",children:"Playing"}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 text-xs text-yellow-400",children:["$",s.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 "+"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mb-2 ".concat(a("goal")),children:"W"}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 text-center text-sm",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 font-medium text-yellow-500",children:"Withdraw"}),(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 text-xs text-yellow-400",children:"$1000"})]})]})]}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 md:hidden space-y-3 mb-4",children:[(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 "+"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(a("start")),children:"S"}),(0,t.jsx)("span",{className:"jsx-a6e5f80828001ff1 text-sm text-yellow-500",children:"Start: $50"})]}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 "+"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(a("current")),children:"P"}),(0,t.jsxs)("span",{className:"jsx-a6e5f80828001ff1 text-sm text-yellow-500",children:["Playing: $",s.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 "+"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(a("goal")),children:"W"}),(0,t.jsx)("span",{className:"jsx-a6e5f80828001ff1 text-sm text-yellow-500",children:"Withdraw: $1000"})]})]}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 w-full bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-full h-8 mb-3 overflow-hidden border-2 border-yellow-600/40 shadow-inner relative",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 absolute inset-0 bg-gradient-to-r from-yellow-500/10 via-yellow-400/20 to-yellow-500/10 animate-pulse"}),(0,t.jsxs)("div",{style:{width:"".concat(r,"%")},className:"jsx-a6e5f80828001ff1 h-full bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 transition-all duration-1000 ease-out relative shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 absolute inset-0 bg-gradient-to-r from-yellow-300/50 via-yellow-200/30 to-yellow-300/50"}),(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 absolute inset-0 overflow-hidden",children:(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-shimmer-slow w-full"})}),(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-yellow-200/60 via-white/80 to-yellow-200/60"}),(0,t.jsx)("div",{className:"jsx-a6e5f80828001ff1 absolute top-0 right-0 w-2 h-full bg-gradient-to-l from-yellow-300 to-transparent animate-pulse"})]})]}),(0,t.jsxs)("div",{className:"jsx-a6e5f80828001ff1 text-center text-sm font-medium text-yellow-500",children:["Progress to withdrawal: $",s.toFixed(2)," / $1000"]})]}),(0,t.jsxs)("ul",{className:"jsx-a6e5f80828001ff1 space-y-2 text-sm text-yellow-200",children:[(0,t.jsxs)("li",{className:"jsx-a6e5f80828001ff1 flex items-center space-x-2",children:[(0,t.jsx)(k,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"jsx-a6e5f80828001ff1",children:"Start with $50 in your wallet to play games"})]}),(0,t.jsxs)("li",{className:"jsx-a6e5f80828001ff1 flex items-start space-x-2",children:[(0,t.jsx)(k,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"jsx-a6e5f80828001ff1",children:"Win or lose, your balance changes in real-time"})]}),(0,t.jsxs)("li",{className:"jsx-a6e5f80828001ff1 flex items-start space-x-2",children:[(0,t.jsx)(k,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"jsx-a6e5f80828001ff1",children:"Reach $1000 to unlock $50 withdrawal"})]}),(0,t.jsxs)("li",{className:"jsx-a6e5f80828001ff1 flex items-start space-x-2",children:[(0,t.jsx)(k,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"jsx-a6e5f80828001ff1",children:"Balance under $0.10 resets to $0"})]}),(0,t.jsxs)("li",{className:"jsx-a6e5f80828001ff1 flex items-start space-x-2",children:[(0,t.jsx)(k,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"jsx-a6e5f80828001ff1",children:"Complete KYC verification to withdraw"})]})]}),(0,t.jsx)(N.default,{id:"a6e5f80828001ff1",children:"@keyframes shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes shimmer-slow{0%{transform:translate(-200%)}to{transform:translate(200%)}}.animate-shimmer.jsx-a6e5f80828001ff1{animation:2s infinite shimmer}.animate-shimmer-slow.jsx-a6e5f80828001ff1{animation:3s ease-in-out infinite shimmer-slow}"})]})}function _(e){let{games:r,onPlayGame:a,user:l,onLogin:o}=e,[n,i]=(0,s.useState)("‡∏™‡∏•‡πá‡∏≠‡∏ï"),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(!0),[x,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/games"),t=await e.json();t.success&&t.games&&d(t.games)}catch(e){console.error("Failed to fetch games:",e)}finally{m(!1)}})()},[]);let p=e=>{l?a(e):f(!0)},y=c.slice(0,6).map(e=>({id:e.code,name:e.name,rtp:"".concat(e.rtp,"%"),image:"/pgsoft/".concat(e.code,".png"),game_uid:e.game_uid})),b=c.slice(6).map(e=>({id:e.code,name:e.name,rtp:"".concat(e.rtp,"%"),image:"/pgsoft/".concat(e.code,".png"),game_uid:e.game_uid})),w=e=>{let{game:s,onClick:r}=e;return(0,t.jsx)("div",{className:"relative rounded-2xl overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl group",onClick:r,children:(0,t.jsxs)("div",{className:"aspect-[2/3] md:aspect-[3/4] relative",children:[(0,t.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),(0,t.jsxs)("div",{className:"absolute top-1 left-1 md:top-3 md:left-3 bg-yellow-400 text-black text-xs font-bold px-1 py-0.5 md:px-2 md:py-1 rounded-full",children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"RTP "}),s.rtp]}),(0,t.jsx)("div",{className:"absolute bottom-0 w-full h-6 md:h-8 flex items-center justify-center bg-black/60",children:(0,t.jsx)("h3",{className:"gradient-gold font-bold text-xs md:text-sm leading-tight drop-shadow-lg px-1 text-center line-clamp-1",children:s.name})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,t.jsxs)("button",{className:"primary-gradient-to-b text-black px-3 py-1 md:px-6 md:py-2 rounded-full font-bold text-xs md:text-sm transform scale-90 group-hover:scale-100 transition-transform duration-300",children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"Play "}),"now"]})})]})})};return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"text-xl md:text-2xl font-bold text-gray-100",children:"PG"}),(0,t.jsx)("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:"HOT GAMES"}),(0,t.jsx)("img",{src:"hot-gif.webp",className:"w-auto h-5 md:h-6"})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6",children:u?Array.from({length:6}).map((e,s)=>(0,t.jsx)("div",{className:"aspect-[2/3] md:aspect-[3/4] bg-gray-200 rounded-2xl animate-pulse"},s)):y.map(e=>(0,t.jsx)(w,{game:e,onClick:()=>p(e.game_uid)},e.id))})]}),(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"text-xl md:text-2xl font-bold text-gray-100",children:"PG"}),(0,t.jsx)("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent",children:"NEW GAMES"})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6",children:u?Array.from({length:6}).map((e,s)=>(0,t.jsx)("div",{className:"aspect-[2/3] md:aspect-[3/4] bg-gray-200 rounded-2xl animate-pulse"},s)):b.map(e=>(0,t.jsx)(w,{game:e,onClick:()=>p(e.game_uid)},e.id))})]}),x&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-auto",children:[(0,t.jsx)("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 z-10",children:(0,t.jsx)(h,{className:"w-6 h-6"})}),(0,t.jsx)(g,{onLogin:(e,t)=>{o&&o(e,t),f(!1)},onShowRegister:()=>{f(!1)}})]})})]})}let C=()=>{let[e,r]=(0,s.useState)(1),a=[{id:1,main:"hero-1-main.webp",sub1:"hero-1-sub-1.webp",sub2:"hero-1-sub-2.webp"},{id:2,main:"hero-2-main.webp",sub1:"hero-2-sub-1.webp",sub2:"hero-2-sub-2.webp"},{id:3,main:"hero-3-main.webp",sub1:"hero-3-sub-1.webp",sub2:"hero-3-sub-2.webp"}];(0,s.useEffect)(()=>{let e=setInterval(()=>{r(e=>e>=3?1:e+1)},5e3);return()=>clearInterval(e)},[]);let l=a.find(t=>t.id===e)||a[0];return(0,t.jsxs)("div",{className:"jsx-14e16d558836e366 lg:mt-0 mt-2 min-h-[70vh] w-full bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center relative",children:[(0,t.jsx)("div",{className:"jsx-14e16d558836e366 lg:block hidden absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black via-black/70 to-transparent z-10 pointer-events-none"}),(0,t.jsxs)("div",{className:"jsx-14e16d558836e366 w-full max-w-[1200px] h-full flex lg:flex-row flex-col items-center justify-between px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"jsx-14e16d558836e366 relative transition-all duration-1000 ease-in-out transform hover:scale-105",children:[(0,t.jsx)("img",{src:l.sub1,style:{animation:"float-up-down 3s ease-in-out infinite, hero-fade-in 1s ease-in-out"},className:"jsx-14e16d558836e366 absolute top-0 left-0 w-[80px] h-auto lg:w-[120px] lg:h-auto transition-all duration-1000 ease-in-out transform"},"sub1-".concat(e)),(0,t.jsx)("img",{src:l.main,alt:"hero-".concat(e),style:{animation:"hero-scale-fade 1s ease-in-out"},className:"jsx-14e16d558836e366 w-full h-full object-cover transition-all duration-1000 ease-in-out transform"},"main-".concat(e)),(0,t.jsx)("img",{src:l.sub2,style:{animation:"float-up-down 2.5s ease-in-out infinite reverse, hero-fade-in 1s ease-in-out"},className:"jsx-14e16d558836e366 absolute bottom-0 right-0 w-[80px] h-auto lg:w-[120px] lg:h-auto transition-all duration-1000 ease-in-out transform"},"sub2-".concat(e))]}),(0,t.jsxs)("div",{className:"jsx-14e16d558836e366 w-full lg:max-w-1/3 flex flex-col items-center lg:items-start justify-center gap-4",children:[(0,t.jsx)("h1",{className:"jsx-14e16d558836e366 text-3xl gradient-gold font-bold text-left",children:"PGSLOT ‚Äî direct slots, easy wins, auto system."}),(0,t.jsx)("p",{className:"jsx-14e16d558836e366 text-lg text-gray-300",children:"Experience the thrill of gaming like never before."}),(0,t.jsx)("button",{className:"jsx-14e16d558836e366 btn-gold-3d font-semibold px-6 py-3 rounded-lg hover:from-yellow-300 hover:to-yellow-500 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-yellow-400/25 lg:w-max w-full",children:"Get Started"})]})]}),(0,t.jsx)(N.default,{id:"14e16d558836e366",children:"@keyframes float-up-down{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes hero-fade-in{0%{opacity:0;transform:translateY(20px)scale(.9)}to{opacity:1;transform:translateY(0)scale(1)}}@keyframes hero-scale-fade{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"})]})};function R(e){let{user:a,balance:l,canWithdraw:o,onLogout:n,onBalanceUpdate:i,onLogin:c}=e,[d,u]=(0,s.useState)("games"),[m,h]=(0,s.useState)([]),[x,f]=(0,s.useState)([]),[p,g]=(0,s.useState)([]),[y,b]=(0,s.useState)(""),[w,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[R,F]=(0,s.useState)(!1),[P,z]=(0,s.useState)(!0);(0,s.useEffect)(()=>{T(),A(),L()},[]);let E=()=>{let e=localStorage.getItem("authToken");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},T=async()=>{try{let s=await fetch("/api/games"),r=await s.json();if(r.success){var e,t;let s=[...(null==(e=r.games)?void 0:e.fishGames)||[],...(null==(t=r.games)?void 0:t.slotGames)||[]];h(s)}}catch(e){console.error("Error loading games:",e)}},A=async()=>{try{let e=await fetch("/api/transactions",{headers:E()});if(e.ok){let t=await e.json();f(t.transactions||[])}}catch(e){console.error("Error loading transactions:",e)}},L=async()=>{try{let e=await fetch("/api/withdrawal/history",{headers:E()});if(e.ok){let t=await e.json();g(t.withdrawals||[])}}catch(e){console.error("Error loading withdrawals:",e)}},I=async()=>{k(!0);try{await i()}catch(e){console.error("Error refreshing balance:",e)}finally{k(!1)}},$=async e=>{try{let t=await fetch("/api/game/launch",{method:"POST",headers:E(),body:JSON.stringify({game_uid:e})}),s=await t.json();t.ok&&s.success&&s.game_url?(b(s.game_url),j(!0)):alert("Failed to launch game: ".concat(s.error||"Unknown error"))}catch(e){console.error("Game launch error:",e),alert("Failed to launch game. Please try again.")}},B=async e=>{try{let t=await fetch("/api/withdrawal/request",{method:"POST",headers:E(),body:JSON.stringify({bank_details:e})}),s=await t.json();if(t.ok)return alert("‚úÖ Withdrawal request submitted successfully!"),L(),!0;return alert("‚ùå Withdrawal request failed: ".concat(s.error)),!1}catch(e){return console.error("Error submitting withdrawal:",e),alert("‚ùå Network error occurred. Please try again."),!1}},D=async e=>{try{let t=localStorage.getItem("authToken"),s=await fetch("/api/kyc/upload",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:e}),r=await s.json();if(s.ok)return alert("‚úÖ KYC documents uploaded successfully!"),!0;return alert("‚ùå Upload failed: ".concat(r.error)),!1}catch(e){return console.error("Error uploading KYC:",e),alert("‚ùå Network error occurred. Please try again."),!1}};return(0,s.useEffect)(()=>{localStorage.getItem("authToken")?F(!0):z(!1)},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-black",children:[!w&&(0,t.jsx)(v,{user:a,balance:l,canWithdraw:o,onLogout:n,onRefreshBalance:I,isRefreshing:N,onLogin:c,withdrawals:p,onWithdrawalSubmit:B,transactions:x,onKYCUpload:D}),!w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C,{}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[a&&(0,t.jsx)(S,{balance:l,canWithdraw:o}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(_,{user:a,games:m,onPlayGame:$})})]})]}),(0,t.jsx)("div",{className:"bg-yellow-600 py-2 text-center text-black",children:"Copyright ¬© 2025 Pgslot All Rights Reserved."}),w&&(0,t.jsx)(r,{gameUrl:y,onClose:()=>{j(!1),b(""),setTimeout(()=>{i()},1e3)}})]})}let F=i("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function P(){let[e,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!1),[o,n]=(0,s.useState)(null),[i,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{localStorage.getItem("authToken")?(r(!0),x()):h(!1)},[]);let x=async()=>{try{let e=localStorage.getItem("authToken"),t=await fetch("/api/profile",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){let e=await t.json();n(e.user),await f()}else 401===t.status&&p()}catch(e){console.error("Error loading profile:",e)}finally{h(!1)}},f=async()=>{try{let e=localStorage.getItem("authToken"),t=await fetch("/api/balance",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){let e=await t.json();c(e.balance),u(e.can_withdraw)}}catch(e){console.error("Error loading balance:",e)}},p=()=>{localStorage.removeItem("authToken"),n(null),r(!1),l(!1),c(0),u(!1)};return m?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:(0,t.jsx)(F,{className:"text-yellow-500 text-lg animate-spin"})}):(0,t.jsx)(R,{user:o,balance:i,canWithdraw:d,onLogout:p,onBalanceUpdate:f,onLogin:(e,t)=>{localStorage.setItem("authToken",t),n(e),r(!0),l(!1),f()}})}}]);